(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{196:function(s,a,e){"use strict";e.r(a);var n=e(0),i=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"二、你真的了解无限加载组件吗？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、你真的了解无限加载组件吗？","aria-hidden":"true"}},[s._v("#")]),s._v(" 二、你真的了解无限加载组件吗？")]),s._v(" "),e("h2",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),e("p",[s._v("vue-infinite-loading（推荐使用） > vue-infinite-scroll > vue-scroller")]),s._v(" "),e("h2",{attrs:{id:"vue-scroller"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-scroller","aria-hidden":"true"}},[s._v("#")]),s._v(" vue-scroller")]),s._v(" "),e("h3",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm i vue-scroller -S\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用","aria-hidden":"true"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),e("p",[s._v("scroller标签包裹下拉刷新，上拉加载元素。onfinite绑定上拉加载时的回调，onrefresh绑定下拉刷新时候的回调。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('//main.js \nimport VueScroller from \'vue-scroller\';\nVue.use(VueScroller);\n \n//app.vue\n<scroller :on-infinite="loading" ::on-refresh="refresh">\n    <div class="block" v-for="(item,index) in 20" :key="index">{{index}}</div>\n</scroller>\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h3",{attrs:{id:"问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题","aria-hidden":"true"}},[s._v("#")]),s._v(" 问题")]),s._v(" "),e("p",[s._v("scroller标签包裹下拉刷新，上拉加载元素。onfinite绑定上拉加载时的回调，onrefresh绑定下拉刷新时候的回调。")]),s._v(" "),e("ul",[e("li",[s._v("该组件周围的div元素都会被scroller容器覆盖到，要想显示出该元素必须修改* scroller元素的距离顶部的位置。")]),s._v(" "),e("li",[s._v("包裹元素在容器内可以上下滑动，即使没有下拉刷新回调也可以下拉。")]),s._v(" "),e("li",[s._v("加载/刷新时菊花图无法取消。")]),s._v(" "),e("li",[s._v("无法局部上拉加载。")]),s._v(" "),e("li",[s._v("网页右边scroll被隐藏，无法显示")])]),s._v(" "),e("h2",{attrs:{id:"vue-infinite-loading"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-infinite-loading","aria-hidden":"true"}},[s._v("#")]),s._v(" vue-infinite-loading")]),s._v(" "),e("h3",{attrs:{id:"安装-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-2","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm install vue-infinite-loading --save\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"使用-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-2","aria-hidden":"true"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),e("p",[s._v("按照组件的方式引入，如果是下拉加载在加载元素后面引入该组件。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('\n//App.vue\n\n//模板\n<div class="container">\n    <div class="block" v-for="(item,index) in 20" :key="index">{{index}}</div>\n    <infinite-loading @infinite="refresh">\n      <span slot="no-more">\n        There is no more Hacker News :(\n      </span>\n    </infinite-loading>\n </div>\n \n \n//Js\nimport InfiniteLoading from \'vue-infinite-loading\';\n  export default {\n    components: {\n      InfiniteLoading,\n    },\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br")])]),e("h3",{attrs:{id:"基础用法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基础用法","aria-hidden":"true"}},[s._v("#")]),s._v(" 基础用法")]),s._v(" "),e("p",[s._v("该组件绑定infinite方法，设置下拉时候的回调，该方法可以传入一个参数，用来通知该组件的数据获取情况。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("//Js\nmethods: {\n  refresh($state) {\n    setTimeout(()=> {\n      if(this.show) {\n        $state.complete();\n      } else {\n          this.show = true;\n          $state.loaded();\n       }\n     }, 2000)\n   },\n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("p",[s._v("每次数据获取之后都要通知该组件，即执行$state.loaded()，全部数据获取完毕，需要手动执行$state.complete()来展示加载完成的文案，也就是slot中的内容。")]),s._v(" "),e("h3",{attrs:{id:"优缺点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优缺点","aria-hidden":"true"}},[s._v("#")]),s._v(" 优缺点")]),s._v(" "),e("p",[s._v("优点")]),s._v(" "),e("ul",[e("li",[s._v("上拉和下拉两个方向都可以控制。")]),s._v(" "),e("li",[s._v("组件方式引入，更可控。")]),s._v(" "),e("li",[s._v("多种loading图可以选择。")]),s._v(" "),e("li",[s._v("加载完成时组件可以slot进去，自由度更高。")]),s._v(" "),e("li",[s._v("加载图可以隐藏。")])]),s._v(" "),e("p",[s._v("缺点")]),s._v(" "),e("ul",[e("li",[s._v("每次获取到数据都要通知该组件，稍显复杂。")])]),s._v(" "),e("h2",{attrs:{id:"vue-infinite-scroll"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-infinite-scroll","aria-hidden":"true"}},[s._v("#")]),s._v(" vue-infinite-scroll")]),s._v(" "),e("h3",{attrs:{id:"安装-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-3","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm install vue-infinite-scroll --save\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"使用-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-3","aria-hidden":"true"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('//main.js\nimport infiniteScroll from \'vue-infinite-scroll\'\nVue.use(infiniteScroll)\n \n//App.vue\n<div v-infinite-scroll="loadMore" :infinite-scroll-disabled="btn" infinite-scroll-distance="10"></div>\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"缺点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缺点","aria-hidden":"true"}},[s._v("#")]),s._v(" 缺点")]),s._v(" "),e("p",[s._v("拉倒最底部的时候，无法手动控制停止触发loadMore方法，即会无限加载，当没有数据返回时候依然会触发该方法。")])])}],!1,null,null,null);i.options.__file="infiniate.md";a.default=i.exports}}]);